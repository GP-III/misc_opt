/*
** Z80 CPU Emu 
** Copyright (C) 2016 moecmks 
**
** This program is free software; you can redistribute it and/or modify
** it under the terms of the GNU General Public License as published by
** the Free Software Foundation; either version 2 of the License, or
** (at your option) any later version.
**
** This program is distributed in the hope that it will be useful, 
** but WITHOUT ANY WARRANTY; without even the implied warranty of
** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU 
** Library General Public License for more details.  To obtain a 
** copy of the GNU Library General Public License, write to the Free 
** Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
**
** Any permitted reproduction of these routines, in whole or in part,
** must bear this legend.
*/

#ifndef __COMMON_BCD_H_INCLUED_
#define __COMMON_BCD_H_INCLUED_

static 
const uint16_t daa_table[2048] = {

	0x0044,0x0100,0x0200,0x0304,0x0400,0x0504,0x0604,0x0700,
	0x0800,0x0904,0x1010,0x1114,0x1214,0x1310,0x1414,0x1510,
	0x1000,0x1104,0x1204,0x1300,0x1404,0x1500,0x1600,0x1704,
	0x1804,0x1900,0x2010,0x2114,0x2214,0x2310,0x2414,0x2510,
	0x2000,0x2104,0x2204,0x2300,0x2404,0x2500,0x2600,0x2704,
	0x2804,0x2900,0x3014,0x3110,0x3210,0x3314,0x3410,0x3514,
	0x3004,0x3100,0x3200,0x3304,0x3400,0x3504,0x3604,0x3700,
	0x3800,0x3904,0x4010,0x4114,0x4214,0x4310,0x4414,0x4510,
	0x4000,0x4104,0x4204,0x4300,0x4404,0x4500,0x4600,0x4704,
	0x4804,0x4900,0x5014,0x5110,0x5210,0x5314,0x5410,0x5514,
	0x5004,0x5100,0x5200,0x5304,0x5400,0x5504,0x5604,0x5700,
	0x5800,0x5904,0x6014,0x6110,0x6210,0x6314,0x6410,0x6514,
	0x6004,0x6100,0x6200,0x6304,0x6400,0x6504,0x6604,0x6700,
	0x6800,0x6904,0x7010,0x7114,0x7214,0x7310,0x7414,0x7510,
	0x7000,0x7104,0x7204,0x7300,0x7404,0x7500,0x7600,0x7704,
	0x7804,0x7900,0x8090,0x8194,0x8294,0x8390,0x8494,0x8590,
	0x8080,0x8184,0x8284,0x8380,0x8484,0x8580,0x8680,0x8784,
	0x8884,0x8980,0x9094,0x9190,0x9290,0x9394,0x9490,0x9594,
	0x9084,0x9180,0x9280,0x9384,0x9480,0x9584,0x9684,0x9780,
	0x9880,0x9984,0x0055,0x0111,0x0211,0x0315,0x0411,0x0515,
	0x0045,0x0101,0x0201,0x0305,0x0401,0x0505,0x0605,0x0701,
	0x0801,0x0905,0x1011,0x1115,0x1215,0x1311,0x1415,0x1511,
	0x1001,0x1105,0x1205,0x1301,0x1405,0x1501,0x1601,0x1705,
	0x1805,0x1901,0x2011,0x2115,0x2215,0x2311,0x2415,0x2511,
	0x2001,0x2105,0x2205,0x2301,0x2405,0x2501,0x2601,0x2705,
	0x2805,0x2901,0x3015,0x3111,0x3211,0x3315,0x3411,0x3515,
	0x3005,0x3101,0x3201,0x3305,0x3401,0x3505,0x3605,0x3701,
	0x3801,0x3905,0x4011,0x4115,0x4215,0x4311,0x4415,0x4511,
	0x4001,0x4105,0x4205,0x4301,0x4405,0x4501,0x4601,0x4705,
	0x4805,0x4901,0x5015,0x5111,0x5211,0x5315,0x5411,0x5515,
	0x5005,0x5101,0x5201,0x5305,0x5401,0x5505,0x5605,0x5701,
	0x5801,0x5905,0x6015,0x6111,0x6211,0x6315,0x6411,0x6515,
	0x6005,0x6101,0x6201,0x6305,0x6401,0x6505,0x6605,0x6701,
	0x6801,0x6905,0x7011,0x7115,0x7215,0x7311,0x7415,0x7511,
	0x7001,0x7105,0x7205,0x7301,0x7405,0x7501,0x7601,0x7705,
	0x7805,0x7901,0x8091,0x8195,0x8295,0x8391,0x8495,0x8591,
	0x8081,0x8185,0x8285,0x8381,0x8485,0x8581,0x8681,0x8785,
	0x8885,0x8981,0x9095,0x9191,0x9291,0x9395,0x9491,0x9595,
	0x9085,0x9181,0x9281,0x9385,0x9481,0x9585,0x9685,0x9781,
	0x9881,0x9985,0xA095,0xA191,0xA291,0xA395,0xA491,0xA595,
	0xA085,0xA181,0xA281,0xA385,0xA481,0xA585,0xA685,0xA781,
	0xA881,0xA985,0xB091,0xB195,0xB295,0xB391,0xB495,0xB591,
	0xB081,0xB185,0xB285,0xB381,0xB485,0xB581,0xB681,0xB785,
	0xB885,0xB981,0xC095,0xC191,0xC291,0xC395,0xC491,0xC595,
	0xC085,0xC181,0xC281,0xC385,0xC481,0xC585,0xC685,0xC781,
	0xC881,0xC985,0xD091,0xD195,0xD295,0xD391,0xD495,0xD591,
	0xD081,0xD185,0xD285,0xD381,0xD485,0xD581,0xD681,0xD785,
	0xD885,0xD981,0xE091,0xE195,0xE295,0xE391,0xE495,0xE591,
	0xE081,0xE185,0xE285,0xE381,0xE485,0xE581,0xE681,0xE785,
	0xE885,0xE981,0xF095,0xF191,0xF291,0xF395,0xF491,0xF595,
	0xF085,0xF181,0xF281,0xF385,0xF481,0xF585,0xF685,0xF781,
	0xF881,0xF985,0x0055,0x0111,0x0211,0x0315,0x0411,0x0515,
	0x0045,0x0101,0x0201,0x0305,0x0401,0x0505,0x0605,0x0701,
	0x0801,0x0905,0x1011,0x1115,0x1215,0x1311,0x1415,0x1511,
	0x1001,0x1105,0x1205,0x1301,0x1405,0x1501,0x1601,0x1705,
	0x1805,0x1901,0x2011,0x2115,0x2215,0x2311,0x2415,0x2511,
	0x2001,0x2105,0x2205,0x2301,0x2405,0x2501,0x2601,0x2705,
	0x2805,0x2901,0x3015,0x3111,0x3211,0x3315,0x3411,0x3515,
	0x3005,0x3101,0x3201,0x3305,0x3401,0x3505,0x3605,0x3701,
	0x3801,0x3905,0x4011,0x4115,0x4215,0x4311,0x4415,0x4511,
	0x4001,0x4105,0x4205,0x4301,0x4405,0x4501,0x4601,0x4705,
	0x4805,0x4901,0x5015,0x5111,0x5211,0x5315,0x5411,0x5515,
	0x5005,0x5101,0x5201,0x5305,0x5401,0x5505,0x5605,0x5701,
	0x5801,0x5905,0x6015,0x6111,0x6211,0x6315,0x6411,0x6515,
	0x0614,0x0710,0x0810,0x0914,0x0A14,0x0B10,0x0C14,0x0D10,
	0x0E10,0x0F14,0x1010,0x1114,0x1214,0x1310,0x1414,0x1510,
	0x1610,0x1714,0x1814,0x1910,0x1A10,0x1B14,0x1C10,0x1D14,
	0x1E14,0x1F10,0x2010,0x2114,0x2214,0x2310,0x2414,0x2510,
	0x2610,0x2714,0x2814,0x2910,0x2A10,0x2B14,0x2C10,0x2D14,
	0x2E14,0x2F10,0x3014,0x3110,0x3210,0x3314,0x3410,0x3514,
	0x3614,0x3710,0x3810,0x3914,0x3A14,0x3B10,0x3C14,0x3D10,
	0x3E10,0x3F14,0x4010,0x4114,0x4214,0x4310,0x4414,0x4510,
	0x4610,0x4714,0x4814,0x4910,0x4A10,0x4B14,0x4C10,0x4D14,
	0x4E14,0x4F10,0x5014,0x5110,0x5210,0x5314,0x5410,0x5514,
	0x5614,0x5710,0x5810,0x5914,0x5A14,0x5B10,0x5C14,0x5D10,
	0x5E10,0x5F14,0x6014,0x6110,0x6210,0x6314,0x6410,0x6514,
	0x6614,0x6710,0x6810,0x6914,0x6A14,0x6B10,0x6C14,0x6D10,
	0x6E10,0x6F14,0x7010,0x7114,0x7214,0x7310,0x7414,0x7510,
	0x7610,0x7714,0x7814,0x7910,0x7A10,0x7B14,0x7C10,0x7D14,
	0x7E14,0x7F10,0x8090,0x8194,0x8294,0x8390,0x8494,0x8590,
	0x8690,0x8794,0x8894,0x8990,0x8A90,0x8B94,0x8C90,0x8D94,
	0x8E94,0x8F90,0x9094,0x9190,0x9290,0x9394,0x9490,0x9594,
	0x9694,0x9790,0x9890,0x9994,0x9A94,0x9B90,0x9C94,0x9D90,
	0x9E90,0x9F94,0x0055,0x0111,0x0211,0x0315,0x0411,0x0515,
	0x0615,0x0711,0x0811,0x0915,0x0A15,0x0B11,0x0C15,0x0D11,
	0x0E11,0x0F15,0x1011,0x1115,0x1215,0x1311,0x1415,0x1511,
	0x1611,0x1715,0x1815,0x1911,0x1A11,0x1B15,0x1C11,0x1D15,
	0x1E15,0x1F11,0x2011,0x2115,0x2215,0x2311,0x2415,0x2511,
	0x2611,0x2715,0x2815,0x2911,0x2A11,0x2B15,0x2C11,0x2D15,
	0x2E15,0x2F11,0x3015,0x3111,0x3211,0x3315,0x3411,0x3515,
	0x3615,0x3711,0x3811,0x3915,0x3A15,0x3B11,0x3C15,0x3D11,
	0x3E11,0x3F15,0x4011,0x4115,0x4215,0x4311,0x4415,0x4511,
	0x4611,0x4715,0x4815,0x4911,0x4A11,0x4B15,0x4C11,0x4D15,
	0x4E15,0x4F11,0x5015,0x5111,0x5211,0x5315,0x5411,0x5515,
	0x5615,0x5711,0x5811,0x5915,0x5A15,0x5B11,0x5C15,0x5D11,
	0x5E11,0x5F15,0x6015,0x6111,0x6211,0x6315,0x6411,0x6515,
	0x6615,0x6711,0x6811,0x6915,0x6A15,0x6B11,0x6C15,0x6D11,
	0x6E11,0x6F15,0x7011,0x7115,0x7215,0x7311,0x7415,0x7511,
	0x7611,0x7715,0x7815,0x7911,0x7A11,0x7B15,0x7C11,0x7D15,
	0x7E15,0x7F11,0x8091,0x8195,0x8295,0x8391,0x8495,0x8591,
	0x8691,0x8795,0x8895,0x8991,0x8A91,0x8B95,0x8C91,0x8D95,
	0x8E95,0x8F91,0x9095,0x9191,0x9291,0x9395,0x9491,0x9595,
	0x9695,0x9791,0x9891,0x9995,0x9A95,0x9B91,0x9C95,0x9D91,
	0x9E91,0x9F95,0xA095,0xA191,0xA291,0xA395,0xA491,0xA595,
	0xA695,0xA791,0xA891,0xA995,0xAA95,0xAB91,0xAC95,0xAD91,
	0xAE91,0xAF95,0xB091,0xB195,0xB295,0xB391,0xB495,0xB591,
	0xB691,0xB795,0xB895,0xB991,0xBA91,0xBB95,0xBC91,0xBD95,
	0xBE95,0xBF91,0xC095,0xC191,0xC291,0xC395,0xC491,0xC595,
	0xC695,0xC791,0xC891,0xC995,0xCA95,0xCB91,0xCC95,0xCD91,
	0xCE91,0xCF95,0xD091,0xD195,0xD295,0xD391,0xD495,0xD591,
	0xD691,0xD795,0xD895,0xD991,0xDA91,0xDB95,0xDC91,0xDD95,
	0xDE95,0xDF91,0xE091,0xE195,0xE295,0xE391,0xE495,0xE591,
	0xE691,0xE795,0xE895,0xE991,0xEA91,0xEB95,0xEC91,0xED95,
	0xEE95,0xEF91,0xF095,0xF191,0xF291,0xF395,0xF491,0xF595,
	0xF695,0xF791,0xF891,0xF995,0xFA95,0xFB91,0xFC95,0xFD91,
	0xFE91,0xFF95,0x0055,0x0111,0x0211,0x0315,0x0411,0x0515,
	0x0615,0x0711,0x0811,0x0915,0x0A15,0x0B11,0x0C15,0x0D11,
	0x0E11,0x0F15,0x1011,0x1115,0x1215,0x1311,0x1415,0x1511,
	0x1611,0x1715,0x1815,0x1911,0x1A11,0x1B15,0x1C11,0x1D15,
	0x1E15,0x1F11,0x2011,0x2115,0x2215,0x2311,0x2415,0x2511,
	0x2611,0x2715,0x2815,0x2911,0x2A11,0x2B15,0x2C11,0x2D15,
	0x2E15,0x2F11,0x3015,0x3111,0x3211,0x3315,0x3411,0x3515,
	0x3615,0x3711,0x3811,0x3915,0x3A15,0x3B11,0x3C15,0x3D11,
	0x3E11,0x3F15,0x4011,0x4115,0x4215,0x4311,0x4415,0x4511,
	0x4611,0x4715,0x4815,0x4911,0x4A11,0x4B15,0x4C11,0x4D15,
	0x4E15,0x4F11,0x5015,0x5111,0x5211,0x5315,0x5411,0x5515,
	0x5615,0x5711,0x5811,0x5915,0x5A15,0x5B11,0x5C15,0x5D11,
	0x5E11,0x5F15,0x6015,0x6111,0x6211,0x6315,0x6411,0x6515,
	0x0046,0x0102,0x0202,0x0306,0x0402,0x0506,0x0606,0x0702,
	0x0802,0x0906,0x0412,0x0516,0x0616,0x0712,0x0812,0x0916,
	0x1002,0x1106,0x1206,0x1302,0x1406,0x1502,0x1602,0x1706,
	0x1806,0x1902,0x1416,0x1512,0x1612,0x1716,0x1816,0x1912,
	0x2002,0x2106,0x2206,0x2302,0x2406,0x2502,0x2602,0x2706,
	0x2806,0x2902,0x2416,0x2512,0x2612,0x2716,0x2816,0x2912,
	0x3006,0x3102,0x3202,0x3306,0x3402,0x3506,0x3606,0x3702,
	0x3802,0x3906,0x3412,0x3516,0x3616,0x3712,0x3812,0x3916,
	0x4002,0x4106,0x4206,0x4302,0x4406,0x4502,0x4602,0x4706,
	0x4806,0x4902,0x4416,0x4512,0x4612,0x4716,0x4816,0x4912,
	0x5006,0x5102,0x5202,0x5306,0x5402,0x5506,0x5606,0x5702,
	0x5802,0x5906,0x5412,0x5516,0x5616,0x5712,0x5812,0x5916,
	0x6006,0x6102,0x6202,0x6306,0x6402,0x6506,0x6606,0x6702,
	0x6802,0x6906,0x6412,0x6516,0x6616,0x6712,0x6812,0x6916,
	0x7002,0x7106,0x7206,0x7302,0x7406,0x7502,0x7602,0x7706,
	0x7806,0x7902,0x7416,0x7512,0x7612,0x7716,0x7816,0x7912,
	0x8082,0x8186,0x8286,0x8382,0x8486,0x8582,0x8682,0x8786,
	0x8886,0x8982,0x8496,0x8592,0x8692,0x8796,0x8896,0x8992,
	0x9086,0x9182,0x9282,0x9386,0x9482,0x9586,0x9686,0x9782,
	0x9882,0x9986,0x3413,0x3517,0x3617,0x3713,0x3813,0x3917,
	0x4003,0x4107,0x4207,0x4303,0x4407,0x4503,0x4603,0x4707,
	0x4807,0x4903,0x4417,0x4513,0x4613,0x4717,0x4817,0x4913,
	0x5007,0x5103,0x5203,0x5307,0x5403,0x5507,0x5607,0x5703,
	0x5803,0x5907,0x5413,0x5517,0x5617,0x5713,0x5813,0x5917,
	0x6007,0x6103,0x6203,0x6307,0x6403,0x6507,0x6607,0x6703,
	0x6803,0x6907,0x6413,0x6517,0x6617,0x6713,0x6813,0x6917,
	0x7003,0x7107,0x7207,0x7303,0x7407,0x7503,0x7603,0x7707,
	0x7807,0x7903,0x7417,0x7513,0x7613,0x7717,0x7817,0x7913,
	0x8083,0x8187,0x8287,0x8383,0x8487,0x8583,0x8683,0x8787,
	0x8887,0x8983,0x8497,0x8593,0x8693,0x8797,0x8897,0x8993,
	0x9087,0x9183,0x9283,0x9387,0x9483,0x9587,0x9687,0x9783,
	0x9883,0x9987,0x9493,0x9597,0x9697,0x9793,0x9893,0x9997,
	0xA087,0xA183,0xA283,0xA387,0xA483,0xA587,0xA687,0xA783,
	0xA883,0xA987,0xA493,0xA597,0xA697,0xA793,0xA893,0xA997,
	0xB083,0xB187,0xB287,0xB383,0xB487,0xB583,0xB683,0xB787,
	0xB887,0xB983,0xB497,0xB593,0xB693,0xB797,0xB897,0xB993,
	0xC087,0xC183,0xC283,0xC387,0xC483,0xC587,0xC687,0xC783,
	0xC883,0xC987,0xC493,0xC597,0xC697,0xC793,0xC893,0xC997,
	0xD083,0xD187,0xD287,0xD383,0xD487,0xD583,0xD683,0xD787,
	0xD887,0xD983,0xD497,0xD593,0xD693,0xD797,0xD897,0xD993,
	0xE083,0xE187,0xE287,0xE383,0xE487,0xE583,0xE683,0xE787,
	0xE887,0xE983,0xE497,0xE593,0xE693,0xE797,0xE897,0xE993,
	0xF087,0xF183,0xF283,0xF387,0xF483,0xF587,0xF687,0xF783,
	0xF883,0xF987,0xF493,0xF597,0xF697,0xF793,0xF893,0xF997,
	0x0047,0x0103,0x0203,0x0307,0x0403,0x0507,0x0607,0x0703,
	0x0803,0x0907,0x0413,0x0517,0x0617,0x0713,0x0813,0x0917,
	0x1003,0x1107,0x1207,0x1303,0x1407,0x1503,0x1603,0x1707,
	0x1807,0x1903,0x1417,0x1513,0x1613,0x1717,0x1817,0x1913,
	0x2003,0x2107,0x2207,0x2303,0x2407,0x2503,0x2603,0x2707,
	0x2807,0x2903,0x2417,0x2513,0x2613,0x2717,0x2817,0x2913,
	0x3007,0x3103,0x3203,0x3307,0x3403,0x3507,0x3607,0x3703,
	0x3803,0x3907,0x3413,0x3517,0x3617,0x3713,0x3813,0x3917,
	0x4003,0x4107,0x4207,0x4303,0x4407,0x4503,0x4603,0x4707,
	0x4807,0x4903,0x4417,0x4513,0x4613,0x4717,0x4817,0x4913,
	0x5007,0x5103,0x5203,0x5307,0x5403,0x5507,0x5607,0x5703,
	0x5803,0x5907,0x5413,0x5517,0x5617,0x5713,0x5813,0x5917,
	0x6007,0x6103,0x6203,0x6307,0x6403,0x6507,0x6607,0x6703,
	0x6803,0x6907,0x6413,0x6517,0x6617,0x6713,0x6813,0x6917,
	0x7003,0x7107,0x7207,0x7303,0x7407,0x7503,0x7603,0x7707,
	0x7807,0x7903,0x7417,0x7513,0x7613,0x7717,0x7817,0x7913,
	0x8083,0x8187,0x8287,0x8383,0x8487,0x8583,0x8683,0x8787,
	0x8887,0x8983,0x8497,0x8593,0x8693,0x8797,0x8897,0x8993,
	0x9087,0x9183,0x9283,0x9387,0x9483,0x9587,0x9687,0x9783,
	0x9883,0x9987,0x9493,0x9597,0x9697,0x9793,0x9893,0x9997,
	0xFA97,0xFB93,0xFC97,0xFD93,0xFE93,0xFF97,0x0056,0x0112,
	0x0212,0x0316,0x0412,0x0516,0x0616,0x0712,0x0812,0x0916,
	0x0A16,0x0B12,0x0C16,0x0D12,0x0E12,0x0F16,0x1012,0x1116,
	0x1216,0x1312,0x1416,0x1512,0x1612,0x1716,0x1816,0x1912,
	0x1A12,0x1B16,0x1C12,0x1D16,0x1E16,0x1F12,0x2012,0x2116,
	0x2216,0x2312,0x2416,0x2512,0x2612,0x2716,0x2816,0x2912,
	0x2A12,0x2B16,0x2C12,0x2D16,0x2E16,0x2F12,0x3016,0x3112,
	0x3212,0x3316,0x3412,0x3516,0x3616,0x3712,0x3812,0x3916,
	0x3A16,0x3B12,0x3C16,0x3D12,0x3E12,0x3F16,0x4012,0x4116,
	0x4216,0x4312,0x4416,0x4512,0x4612,0x4716,0x4816,0x4912,
	0x4A12,0x4B16,0x4C12,0x4D16,0x4E16,0x4F12,0x5016,0x5112,
	0x5212,0x5316,0x5412,0x5516,0x5616,0x5712,0x5812,0x5916,
	0x5A16,0x5B12,0x5C16,0x5D12,0x5E12,0x5F16,0x6016,0x6112,
	0x6212,0x6316,0x6412,0x6516,0x6616,0x6712,0x6812,0x6916,
	0x6A16,0x6B12,0x6C16,0x6D12,0x6E12,0x6F16,0x7012,0x7116,
	0x7216,0x7312,0x7416,0x7512,0x7612,0x7716,0x7816,0x7912,
	0x7A12,0x7B16,0x7C12,0x7D16,0x7E16,0x7F12,0x8092,0x8196,
	0x8296,0x8392,0x8496,0x8592,0x8692,0x8796,0x8896,0x8992,
	0x8A92,0x8B96,0x8C92,0x8D96,0x8E96,0x8F92,0x9096,0x9192,
	0x9292,0x9396,0x3413,0x3517,0x3617,0x3713,0x3813,0x3917,
	0x3A17,0x3B13,0x3C17,0x3D13,0x3E13,0x3F17,0x4013,0x4117,
	0x4217,0x4313,0x4417,0x4513,0x4613,0x4717,0x4817,0x4913,
	0x4A13,0x4B17,0x4C13,0x4D17,0x4E17,0x4F13,0x5017,0x5113,
	0x5213,0x5317,0x5413,0x5517,0x5617,0x5713,0x5813,0x5917,
	0x5A17,0x5B13,0x5C17,0x5D13,0x5E13,0x5F17,0x6017,0x6113,
	0x6213,0x6317,0x6413,0x6517,0x6617,0x6713,0x6813,0x6917,
	0x6A17,0x6B13,0x6C17,0x6D13,0x6E13,0x6F17,0x7013,0x7117,
	0x7217,0x7313,0x7417,0x7513,0x7613,0x7717,0x7817,0x7913,
	0x7A13,0x7B17,0x7C13,0x7D17,0x7E17,0x7F13,0x8093,0x8197,
	0x8297,0x8393,0x8497,0x8593,0x8693,0x8797,0x8897,0x8993,
	0x8A93,0x8B97,0x8C93,0x8D97,0x8E97,0x8F93,0x9097,0x9193,
	0x9293,0x9397,0x9493,0x9597,0x9697,0x9793,0x9893,0x9997,
	0x9A97,0x9B93,0x9C97,0x9D93,0x9E93,0x9F97,0xA097,0xA193,
	0xA293,0xA397,0xA493,0xA597,0xA697,0xA793,0xA893,0xA997,
	0xAA97,0xAB93,0xAC97,0xAD93,0xAE93,0xAF97,0xB093,0xB197,
	0xB297,0xB393,0xB497,0xB593,0xB693,0xB797,0xB897,0xB993,
	0xBA93,0xBB97,0xBC93,0xBD97,0xBE97,0xBF93,0xC097,0xC193,
	0xC293,0xC397,0xC493,0xC597,0xC697,0xC793,0xC893,0xC997,
	0xCA97,0xCB93,0xCC97,0xCD93,0xCE93,0xCF97,0xD093,0xD197,
	0xD297,0xD393,0xD497,0xD593,0xD693,0xD797,0xD897,0xD993,
	0xDA93,0xDB97,0xDC93,0xDD97,0xDE97,0xDF93,0xE093,0xE197,
	0xE297,0xE393,0xE497,0xE593,0xE693,0xE797,0xE897,0xE993,
	0xEA93,0xEB97,0xEC93,0xED97,0xEE97,0xEF93,0xF097,0xF193,
	0xF293,0xF397,0xF493,0xF597,0xF697,0xF793,0xF893,0xF997,
	0xFA97,0xFB93,0xFC97,0xFD93,0xFE93,0xFF97,0x0057,0x0113,
	0x0213,0x0317,0x0413,0x0517,0x0617,0x0713,0x0813,0x0917,
	0x0A17,0x0B13,0x0C17,0x0D13,0x0E13,0x0F17,0x1013,0x1117,
	0x1217,0x1313,0x1417,0x1513,0x1613,0x1717,0x1817,0x1913,
	0x1A13,0x1B17,0x1C13,0x1D17,0x1E17,0x1F13,0x2013,0x2117,
	0x2217,0x2313,0x2417,0x2513,0x2613,0x2717,0x2817,0x2913,
	0x2A13,0x2B17,0x2C13,0x2D17,0x2E17,0x2F13,0x3017,0x3113,
	0x3213,0x3317,0x3413,0x3517,0x3617,0x3713,0x3813,0x3917,
	0x3A17,0x3B13,0x3C17,0x3D13,0x3E13,0x3F17,0x4013,0x4117,
	0x4217,0x4313,0x4417,0x4513,0x4613,0x4717,0x4817,0x4913,
	0x4A13,0x4B17,0x4C13,0x4D17,0x4E17,0x4F13,0x5017,0x5113,
	0x5213,0x5317,0x5413,0x5517,0x5617,0x5713,0x5813,0x5917,
	0x5A17,0x5B13,0x5C17,0x5D13,0x5E13,0x5F17,0x6017,0x6113,
	0x6213,0x6317,0x6413,0x6517,0x6617,0x6713,0x6813,0x6917,
	0x6A17,0x6B13,0x6C17,0x6D13,0x6E13,0x6F17,0x7013,0x7117,
	0x7217,0x7313,0x7417,0x7513,0x7613,0x7717,0x7817,0x7913,
	0x7A13,0x7B17,0x7C13,0x7D17,0x7E17,0x7F13,0x8093,0x8197,
	0x8297,0x8393,0x8497,0x8593,0x8693,0x8797,0x8897,0x8993,
	0x8A93,0x8B97,0x8C93,0x8D97,0x8E97,0x8F93,0x9097,0x9193,
	0x9293,0x9397,0x9493,0x9597,0x9697,0x9793,0x9893,0x9997
};

// bcd adjust 4 cycles. OP:27
static 
void daa_ (z80cpu *cpu)	{
	
	cpu->TH = 0;
	cpu->TL = 0;
	
	if (cpu->F & C_FLAG) cpu->TP |= 0x100;
    if (cpu->F & H_FLAG) cpu->TP |= 0x200;                      
    if (cpu->F & N_FLAG) cpu->TP |= 0x400;     
	
    cpu->TL = cpu->A;                    
    cpu->AF = daa_table[cpu->TP];
} 

#endif